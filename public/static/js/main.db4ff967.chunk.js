(this.webpackJsonpjointheband=this.webpackJsonpjointheband||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),a=n(25),r=n.n(a),i=(n(69),n(6)),o=(n(70),n(14)),l=n.p+"static/media/vinyl.c87b90b3.png",j=n.p+"static/media/turntable_arm.1d446cf2.png",u=n.p+"static/media/turntable.e486b318.png",b=n(15),d=n(18),h=n(48);var O=function(e){return e.user,Object(c.jsxs)("div",{className:"home",children:[Object(c.jsx)("h2",{children:"Join The Band"}),Object(c.jsx)("em",{children:"find musicians in your area"}),Object(c.jsx)(h.a,{style:{display:"block"},children:Object(c.jsx)(d.b,{to:"/profiles",children:Object(c.jsx)(b.a,{style:{margin:"10px"},children:"See profiles"})})}),Object(c.jsxs)("div",{id:"turntable-container",children:[Object(c.jsx)("img",{id:"turntable-arm",src:j}),Object(c.jsx)("img",{id:"turntable",src:u}),Object(c.jsx)("img",{id:"spin",src:l})]})]})},m=n(19),x=n(12),p=n(22),f=n(8),g=n(59),v=n(60);var y=function(e){var t=e.user,n=e.users,a=e.genres,r=e.instruments,o=e.locations,l=Object(s.useState)(!1),j=Object(i.a)(l,2),u=(j[0],j[1],Object(s.useState)([])),d=Object(i.a)(u,2),O=d[0],y=d[1];Object(s.useEffect)((function(){y(n)}),[n]);var S=[{name:"All genres"}].concat(Object(m.a)(a)),w=[{name:"All instruments"}].concat(Object(m.a)(r)),_=[{name:"All locations"}].concat(Object(m.a)(o)),C=Object(s.useState)(""),k=Object(i.a)(C,2),L=k[0],T=k[1],N=Object(s.useState)("all users"),U=Object(i.a)(N,2),E=U[0],G=U[1];return Object(c.jsxs)("div",{className:"profiles-parent",children:[Object(c.jsx)("h2",{children:"Users:"}),Object(c.jsxs)(h.a,{style:{width:"100%",display:"flex",justifyContent:"space-between"},className:"mb-2",children:[Object(c.jsxs)(g.a,{style:{maxWidth:"50%",marginLeft:"50px"},className:"mb-3",children:[Object(c.jsx)(f.a.Control,{placeholder:"search for users by name",value:L,onChange:function(e){T(e.target.value)},"aria-label":"search for users","aria-describedby":"basic-addon2"}),Object(c.jsx)(b.a,{onClick:function(){var e=n.filter((function(e){return e.name.includes(L)}));0==e.length?alert('there are no users named "'.concat(L,'" or whose name contains "').concat(L,'"')):(y(e),G('users named "'.concat(L,'" or whose name contains "').concat(L,'"')))},variant:"outline-secondary",id:"button-addon2",children:"Submit"})]}),Object(c.jsx)(b.a,{variant:"secondary",onClick:function(){y(n),G("all users")},style:{maxWidth:"20%",marginRight:"50px",padding:"5px"},children:"See all users"})]}),Object(c.jsxs)(h.a,{style:{width:"100%",display:"flex",justifyContent:"space-around"},className:"mb-2",children:[Object(c.jsx)("div",{children:Object(c.jsxs)(p.a,{children:[Object(c.jsx)(p.a.Toggle,{children:"Filter by Instrument"}),Object(c.jsx)(p.a.Menu,{children:w.map((function(e){return Object(c.jsx)(p.a.Item,{onClick:function(){return y(function(e){var t=n.filter((function(t){return t.instrument_name===e}));return"All instruments"===e?(G("all users"),n):0==t.length?(alert('no users found with the instrument "'.concat(e,'"')),G("all users"),n):(G('users whose instrument is "'.concat(e,'"')),t)}(e.name))},children:e.name})}))})]})}),Object(c.jsxs)(p.a,{children:[Object(c.jsx)(p.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Filter by Genre"}),Object(c.jsx)(p.a.Menu,{children:S.map((function(e){return Object(c.jsx)(p.a.Item,{onClick:function(){return y(function(e){var t=n.filter((function(t){return t.genre_name===e}));return"All genres"===e?(G("all users"),n):0==t.length?(alert('no users found with the genre "'.concat(e,'"')),G("all users"),n):(G('users whose genre is "'.concat(e,'"')),t)}(e.name))},children:e.name})}))})]}),Object(c.jsxs)(p.a,{children:[Object(c.jsx)(p.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Filter by Location"}),Object(c.jsx)(p.a.Menu,{children:_.map((function(e){return Object(c.jsx)(p.a.Item,{onClick:function(){return y(function(e){var t=n.filter((function(t){return t.location_name===e}));return"All locations"===e?(G("all users"),n):0==t.length?(alert('no users found with location "'.concat(e,'"')),G("all users"),n):(G('users whose location is "'.concat(e,'"')),t)}(e.name))},children:e.name})}))})]})]}),Object(c.jsxs)("p",{children:["Currently displaying ",E]}),Object(c.jsx)("div",{className:"profiles",children:O&&O.length>0?O.map((function(e,n){return Object(c.jsx)(x.a,{style:{width:"18rem",backgroundColor:"black",boxShadow:"1px 1px 1px 1px white",margin:"10px",textAlign:"center"},children:Object(c.jsxs)(x.a.Body,{children:[e.match?Object(c.jsx)(x.a.Header,{style:{backgroundColor:"darkred"},as:"h5",children:"Match: this user's instrument is '".concat(t.looking_for.name,"'")}):null,Object(c.jsxs)(x.a.Header,{children:[Object(c.jsx)(x.a.Title,{children:e.name}),Object(c.jsx)(x.a.Subtitle,{className:"mb-2 text-muted",children:e.instrument_name})]}),Object(c.jsx)(x.a.Text,{}),Object(c.jsx)(x.a.Img,{style:{width:"5rem"},variant:"top",src:e.picture_url}),Object(c.jsxs)(x.a.Text,{children:["email: ",e.email_address]}),Object(c.jsxs)(x.a.Text,{children:["genre: ",e.genre_name]}),Object(c.jsx)(x.a.Text,{children:Object(c.jsxs)("p",{children:["joined: ",(s=e.created_at,Date(s).split(" ").slice(0,3).join(" "))]})}),Object(c.jsx)(x.a.Text,{children:Object(c.jsxs)("p",{children:["location: ",e.location_name]})}),Object(c.jsx)(x.a.Text,{children:Object(c.jsxs)("p",{children:["instrument: ",e.instrument_name]})}),Object(c.jsx)(x.a.Text,{children:Object(c.jsxs)("p",{children:["looking for: ",e.looking_for?e.looking_for.name:null]})})]})});var s})):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Loading"}),Object(c.jsx)(v.a,{animation:"border",role:"status",children:Object(c.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})})]})},S=n(9),w=n(2),_=n(62);var C=function(e){var t=e.baseURL,n=(e.user,e.setUser),a=(new _.a,Object(o.f)()),r=Object(s.useState)({name:"no user"}),l=Object(i.a)(r,2),j=(l[0],l[1]),u=Object(s.useState)({username:"",password:"",email_address:"",picture_url:"",genre:"",instrument:"",location:"",looking_for:""}),h=Object(i.a)(u,2),O=h[0],m=h[1],x=Object(s.useState)([]),p=Object(i.a)(x,2),g=p[0],v=p[1],y=Object(s.useState)(!1),C=Object(i.a)(y,2),k=C[0],L=C[1],T=function(e){m(Object(w.a)(Object(w.a)({},O),{},Object(S.a)({},e.target.name,e.target.value)))};return Object(c.jsx)("div",{className:"login-or-signup",children:Object(c.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),fetch("".concat(t,"/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:O.username,password:O.password})}).then((function(e){e.ok?e.json().then((function(e){v([]),console.log(e),j(e),L(!k),n(e),a.push("/profiles")})):e.json().then((function(e){return v(e.errors)}))}))},children:[Object(c.jsx)("h2",{children:"Log in"}),Object(c.jsx)(d.b,{to:"/signup",children:"Sign up if you do not have an account"}),g.map((function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("em",{children:e}),Object(c.jsx)("br",{})]})})),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Username"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your username",name:"username",value:O.username,onChange:T})]}),Object(c.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(c.jsx)(f.a.Label,{children:"Password"}),Object(c.jsx)(f.a.Control,{type:"password",placeholder:"Password",name:"password",value:O.password,onChange:T})]}),Object(c.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})})};var k=function(e){var t=e.baseURL,n=e.genres,a=e.setGenres,r=e.instruments,l=e.setInstruments,j=e.locations,u=e.setLocations,d=e.users,h=e.setUsers,O=e.setUser,x=Object(o.f)(),p=Object(s.useState)({username:"",password:"",email_address:"",picture_url:"",genre:"",instrument:"",location:"",looking_for:""}),g=Object(i.a)(p,2),v=g[0],y=g[1],_=Object(s.useState)([]),C=Object(i.a)(_,2),k=C[0],L=C[1],T=function(e){y(Object(w.a)(Object(w.a)({},v),{},Object(S.a)({},e.target.name,e.target.value)))},N=Object(s.useState)(!1),U=Object(i.a)(N,2),E=(U[0],U[1]),G=Object(s.useState)(!1),A=Object(i.a)(G,2),P=(A[0],A[1]),R=Object(s.useState)(!1),I=Object(i.a)(R,2),B=(I[0],I[1]),F=Object(s.useState)(!1),D=Object(i.a)(F,2),J=(D[0],D[1]);return console.log(n,r,j),Object(c.jsx)("div",{className:"login-or-signup",children:Object(c.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),fetch("".concat(t,"/signup"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:v.username,password:v.password,email_address:v.email_address,picture_url:v.picture_url,genre:v.genre,instrument:v.instrument,location:v.location,looking_for:v.looking_for})}).then((function(e){e.ok?e.json().then((function(e){L([]),n.includes(e.genre)||a([].concat(Object(m.a)(n),[e.genre])),r.includes(e.instrument)||l([].concat(Object(m.a)(r),[e.instrument])),j.includes(e.location)||u([].concat(Object(m.a)(j),[e.location])),r.includes(e.looking_for)||l([].concat(Object(m.a)(r),[e.looking_for])),O(e),h([].concat(Object(m.a)(d),[e])),x.push("/profiles")})):e.json().then((function(e){return L(e.errors)}))}))},children:[Object(c.jsx)("h2",{children:"Sign Up"}),k.map((function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("em",{children:e}),Object(c.jsx)("br",{})]})})),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Username"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your username",name:"username",value:v.username,onChange:T})]}),Object(c.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(c.jsx)(f.a.Label,{children:"Password"}),Object(c.jsx)(f.a.Control,{type:"password",placeholder:"Password",name:"password",value:v.password,onChange:T})]}),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Email Address"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your email address",name:"email_address",value:v.email_address,onChange:T})]}),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Picture URL"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your picture url",name:"picture_url",value:v.picture_url,onChange:T})]}),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Genre"}),Object(c.jsxs)(f.a.Select,{onChange:function(e){"Other"===e.target.value?E(!0):y(Object(w.a)(Object(w.a)({},v),{},{genre:e.target.value}))},children:[Object(c.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your genre"}),n.map((function(e){return Object(c.jsx)("option",{value:e.name,children:e.name})}))]}),Object(c.jsx)(f.a.Text,{className:"text-muted"})]}),null,Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Instrument"}),Object(c.jsxs)(f.a.Select,{onChange:function(e){"Other"===e.target.value?P(!0):y(Object(w.a)(Object(w.a)({},v),{},{instrument:e.target.value}))},children:[Object(c.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your instrument"}),r.map((function(e){return Object(c.jsx)("option",{value:e.name,children:e.name})}))]}),Object(c.jsx)(f.a.Text,{className:"text-muted"})]}),null,Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Location"}),Object(c.jsxs)(f.a.Select,{onChange:function(e){"Other"===e.target.value?B(!0):y(Object(w.a)(Object(w.a)({},v),{},{location:e.target.value}))},children:[Object(c.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your location"}),j.map((function(e){return Object(c.jsx)("option",{value:e.name,children:e.name})}))]}),Object(c.jsx)(f.a.Text,{className:"text-muted"})]}),null,Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Looking For"}),Object(c.jsxs)(f.a.Select,{onChange:function(e){"Other"===e.target.value?J(!0):y(Object(w.a)(Object(w.a)({},v),{},{looking_for:e.target.value}))},children:[Object(c.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select the instrument you want to collaborate with"}),r.map((function(e){return Object(c.jsx)("option",{value:e.name,children:e.name})}))]}),Object(c.jsx)(f.a.Text,{className:"text-muted"})]}),null,Object(c.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})})},L=n(61),T=n(50);n(79);var N=function(e){var t=e.user,n=(e.setUser,Object(s.useState)(!1)),a=Object(i.a)(n,2),r=(a[0],a[1]);return Object(o.f)(),Object(s.useEffect)((function(){r(!!t)}),[t]),Object(c.jsx)(T.a,{style:{color:"white"},expand:"lg",children:Object(c.jsxs)(L.a,{children:[Object(c.jsxs)(d.b,{to:"/",children:[" ",Object(c.jsx)(T.a.Brand,{style:{color:"white"},href:"",children:"Join The Band"})]}),Object(c.jsxs)(d.b,{to:"/profiles",children:[" ",Object(c.jsx)(T.a.Brand,{style:{color:"white"},href:"profiles",children:"Profiles"})]}),Object(c.jsx)(T.a.Toggle,{"aria-controls":"basic-navbar-nav"})]})})};n(75);var U=function(){return Object(c.jsx)("div",{className:"no-match",children:Object(c.jsx)(x.a,{style:{backgroundColor:"black",boxShadow:"1px 1px 1px 1px white",textAlign:"center",margin:"10px"},children:Object(c.jsxs)(x.a.Body,{children:[Object(c.jsx)(x.a.Title,{children:Object(c.jsx)("h1",{children:"ERROR 404!"})}),Object(c.jsxs)(x.a.Text,{children:[Object(c.jsx)(x.a.Text,{style:{color:"red"},children:Object(c.jsx)("h2",{children:"Oops!"})})," The page you're looking for does not exist"]}),Object(c.jsx)(d.b,{to:"/",children:Object(c.jsx)(b.a,{style:{margin:"0 auto"},variant:"primary",children:"Home"})})]})})})};n(76);var E=function(e){var t=e.webpage;return Object(c.jsxs)("div",{className:"no-auth",children:[Object(c.jsx)("h2",{children:t}),Object(c.jsx)(x.a,{style:{backgroundColor:"black",boxShadow:"1px 1px 1px 1px white",textAlign:"center",margin:"10px"},children:Object(c.jsxs)(x.a.Body,{children:[Object(c.jsx)(x.a.Title,{children:Object(c.jsx)("h1",{children:"ERROR 401!"})}),Object(c.jsxs)(x.a.Text,{children:[Object(c.jsx)(x.a.Text,{style:{color:"red"},children:Object(c.jsx)("h2",{children:"Sorry!"})}),"You need to be logged in to access this page"]}),Object(c.jsx)(d.b,{to:"/login",children:Object(c.jsx)(b.a,{style:{margin:"0 auto"},variant:"primary",children:"Login"})})]})})]})};var G=function(e){var t=e.baseURL,n=e.user,a=e.setUser,r=(e.genres,e.setGenres,e.instruments,e.setInstruments,e.locations,e.setLocations,e.users),l=e.setUsers,j=Object(s.useState)(Object(w.a)(Object(w.a)({},n),{},{looking_for:n.looking_for.name})),u=Object(i.a)(j,2),d=u[0],h=u[1],O=Object(s.useState)([]),m=Object(i.a)(O,2),x=m[0],p=m[1],g=function(e){h(Object(w.a)(Object(w.a)({},d),{},Object(S.a)({},e.target.name,e.target.value)))},v=Object(o.f)();return Object(c.jsxs)("div",{children:[Object(c.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),console.log(d),fetch("".concat(t,"/").concat(n.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:d.name,email_address:d.email_address,picture_url:d.picture_url,genre:d.genre_name,instrument:d.instrument_name,location:d.location_name,looking_for:d.looking_for})}).then((function(e){e.ok?e.json().then((function(e){a(e),l(r.map((function(t){return t.id==e.id?e:t}))),v.push("/profiles")})):e.json().then((function(e){return p(e.errors)}))}))},children:[Object(c.jsx)("h2",{children:"My Profile"}),x.map((function(e){return Object(c.jsx)("p",{children:e})})),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Username"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your username",name:"name",value:d.name,onChange:g})]}),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Email Address"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your email address",name:"email_address",value:d.email_address,onChange:g})]}),Object(c.jsxs)(f.a.Group,{className:"mb-3",children:[Object(c.jsx)(f.a.Label,{children:"Picture URL"}),Object(c.jsx)(f.a.Control,{type:"text",placeholder:"Enter your picture url",name:"picture_url",value:d.picture_url,onChange:g})]}),Object(c.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(c.jsx)(b.a,{onClick:function(e){e.preventDefault(),fetch("".concat(t,"/users/").concat(n.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){a(null)}))},variant:"danger",type:"submit",children:"Delete account"})]})};var A=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],r="https://join-the-band-api.herokuapp.com",l=Object(s.useState)(!1),j=Object(i.a)(l,2),u=j[0],b=j[1];console.log(u),Object(s.useEffect)((function(){fetch("".concat(r,"/me")).then((function(e){e.ok&&e.json().then((function(e){console.log(e),b(e)}))}))}),[]),Object(s.useEffect)((function(){fetch("".concat(r,"/users")).then((function(e){return e.json()})).then((function(e){a(e)}))}),[u]);var d=Object(s.useState)([]),h=Object(i.a)(d,2),m=h[0],x=h[1];Object(s.useEffect)((function(){fetch("".concat(r,"/genres")).then((function(e){return e.json()})).then((function(e){x(e)}))}),[]);var p=Object(s.useState)([]),f=Object(i.a)(p,2),g=f[0],v=f[1],S=Object(s.useState)([]),w=Object(i.a)(S,2),_=w[0],L=w[1];return Object(s.useEffect)((function(){fetch("".concat(r,"/instruments")).then((function(e){return e.json()})).then((function(e){v(e)}))}),[]),Object(s.useEffect)((function(){fetch("".concat(r,"/locations")).then((function(e){return e.json()})).then((function(e){L(e)}))}),[]),Object(c.jsx)("div",{children:Object(c.jsxs)("main",{children:[Object(c.jsx)(N,{user:u,setUser:b}),Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{exact:!0,path:"/",children:Object(c.jsx)(O,{user:u})}),Object(c.jsx)(o.a,{exact:!0,path:"/login",children:Object(c.jsx)(C,{user:u,setUser:b,baseURL:r,instruments:g,setInstruments:v,locations:_,setLocations:L,genres:m,setGenres:x,users:n,setUsers:a})}),Object(c.jsx)(o.a,{exact:!0,path:"/signup",children:Object(c.jsx)(k,{baseURL:r,instruments:g,setInstruments:v,locations:_,setLocations:L,genres:m,setGenres:x,users:n,setUsers:a,setUser:b})}),Object(c.jsx)(o.a,{exact:!0,path:"/profiles",children:Object(c.jsx)(y,{user:u,baseURL:r,genres:m,instruments:g,locations:_,users:n})}),Object(c.jsx)(o.a,{path:"/edit-profile",children:u?Object(c.jsx)(G,{baseURL:r,user:u,setUser:b,instruments:g,setInstruments:v,locations:_,setLocations:L,genres:m,setGenres:x,users:n,setUsers:a}):Object(c.jsx)(E,{webpage:"Edit Profile"})}),Object(c.jsx)(o.a,{exact:!0,path:"*",children:Object(c.jsx)(U,{})})]})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};n(77);r.a.render(Object(c.jsx)(d.a,{children:Object(c.jsx)(A,{})}),document.getElementById("root")),P()}},[[78,1,2]]]);
//# sourceMappingURL=main.db4ff967.chunk.js.map